{
  "question_id": null,
  "course": "ST2137",
  "semester": 2510,
  "assessment_type": "midterm",
  "question_no": 11,
  "is_multi": false,
  "question_stem": "This question is to be answered using Python.\nThe file tourism_sg.csv contains monthly international tourist arrivals to Singapore from from January 1978 to December 2019. There are 30 missing values in the dataset.\n\nImpute the missing values with a simple average of the values before and after. In other words: Suppose that XnX_n is missing. Then we would fill it in with Xn−1+Xn+12\\frac{X_{n-1} + X_{n+1}}{2}.\nWith the filled-in data, compute a new column consisting of a moving average. In the new column, the value for month nn would be Xn−1+Xn+Xn+13\\frac{X_{n-1} + X_n + X_{n+1}}{3}. The first and last values in this column would be missing.\nPlot the filled-in data and the moving average using lines of different colours.",
  "question_stem_html": "<div><p>This question is to be answered using Python.</p>\n<p>The file <code>tourism_sg.csv</code> contains monthly international tourist arrivals to Singapore from from January 1978 to December 2019. There are 30 missing values in the dataset.</p>\n<ol style=\"list-style-type: decimal;\">\n<li>Impute the missing values with a simple average of the values before and after. In other words: Suppose that <math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><semantics><msub><mi>X</mi><mi>n</mi></msub><annotation encoding=\"application/x-tex\">X_n</annotation></semantics></math> is missing. Then we would fill it in with <math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><semantics><mfrac><mrow><msub><mi>X</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mn>2</mn></mfrac><annotation encoding=\"application/x-tex\">\\frac{X_{n-1} + X_{n+1}}{2}</annotation></semantics></math>.</li>\n<li>With the filled-in data, compute a new column consisting of a moving average. In the new column, the value for month <math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><semantics><mi>n</mi><annotation encoding=\"application/x-tex\">n</annotation></semantics></math> would be <math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><semantics><mfrac><mrow><msub><mi>X</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>X</mi><mi>n</mi></msub><mo>+</mo><msub><mi>X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mn>3</mn></mfrac><annotation encoding=\"application/x-tex\">\\frac{X_{n-1} + X_n + X_{n+1}}{3}</annotation></semantics></math>. The first and last values in this column would be missing.</li>\n<li>Plot the filled-in data and the moving average using lines of different colours.</li>\n</ol>\n<p> </p></div>",
  "version": 1,
  "update_timestamp": "2025-09-17T22:44:01+08:00",
  "question_media": [],
  "items": [
    {
      "part_number": "a",
      "type": "essay",
      "subtype": "open-ended",
      "part_stem": "This question is to be answered using Python.\nThe file tourism_sg.csv contains monthly international tourist arrivals to Singapore from from January 1978 to December 2019. There are 30 missing values in the dataset.\n\nImpute the missing values with a simple average of the values before and after. In other words: Suppose that XnX_n is missing. Then we would fill it in with Xn−1+Xn+12\\frac{X_{n-1} + X_{n+1}}{2}.\nWith the filled-in data, compute a new column consisting of a moving average. In the new column, the value for month nn would be Xn−1+Xn+Xn+13\\frac{X_{n-1} + X_n + X_{n+1}}{3}. The first and last values in this column would be missing.\nPlot the filled-in data and the moving average using lines of different colours.",
      "part_stem_html": "<div><p>This question is to be answered using Python.</p>\n<p>The file <code>tourism_sg.csv</code> contains monthly international tourist arrivals to Singapore from from January 1978 to December 2019. There are 30 missing values in the dataset.</p>\n<ol style=\"list-style-type: decimal;\">\n<li>Impute the missing values with a simple average of the values before and after. In other words: Suppose that <math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><semantics><msub><mi>X</mi><mi>n</mi></msub><annotation encoding=\"application/x-tex\">X_n</annotation></semantics></math> is missing. Then we would fill it in with <math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><semantics><mfrac><mrow><msub><mi>X</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mn>2</mn></mfrac><annotation encoding=\"application/x-tex\">\\frac{X_{n-1} + X_{n+1}}{2}</annotation></semantics></math>.</li>\n<li>With the filled-in data, compute a new column consisting of a moving average. In the new column, the value for month <math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><semantics><mi>n</mi><annotation encoding=\"application/x-tex\">n</annotation></semantics></math> would be <math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><semantics><mfrac><mrow><msub><mi>X</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>X</mi><mi>n</mi></msub><mo>+</mo><msub><mi>X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mn>3</mn></mfrac><annotation encoding=\"application/x-tex\">\\frac{X_{n-1} + X_n + X_{n+1}}{3}</annotation></semantics></math>. The first and last values in this column would be missing.</li>\n<li>Plot the filled-in data and the moving average using lines of different colours.</li>\n</ol>\n<p> </p></div>",
      "choices": [
        {
          "choice_id": "Your answer",
          "text": "text_str",
          "text_html": "<p>text_str</p>",
          "is_correct": null,
          "explanation": null
        }
      ],
      "items_media": [],
      "scoring": {
        "points": 1.0
      },
      "feedback": {},
      "shuffle_choices": false,
      "solution": "import pandas as pdimport numpy as np\ntourism_sg = pd.read_csv(\"tourism_sg.csv\")tourism_sg.Month = pd.to_datetime(tourism_sg.Month)\n# find index where Arrivals is missingmissing_index = tourism_sg.Arrivals.isnull()tmp_ids = np.where(missing_index)[0]# tmp_ids\n# fill in the missing valuestourism_sg.loc[tmp_ids, \"Arrivals\"] = (tourism_sg['Arrivals'][tmp_ids+1].values + tourism_sg['Arrivals'][tmp_ids-1].values)*0.5\n# Calculate the moving averagetourism_sg['MA'] = np.nan#len(tourism_sg)for ii in range(1, tourism_sg.shape[0]-1):    tourism_sg.loc[ii, 'MA'] = np.mean(tourism_sg['Arrivals'][ii-1:ii+2])#tourism_sg.tail()tourism_sg.plot(x='Month', y=['Arrivals', 'MA'], kind='line');\n\nimport pandas as pd\nimport numpy as np\n\ntourism_sg = pd.read_csv(\"tourism_sg.csv\")\ntourism_sg.Month = pd.to_datetime(tourism_sg.Month)\n\n# find index where Arrivals is missing\nmissing_index = tourism_sg.Arrivals.isnull()\ntmp_ids = np.where(missing_index)[0]\n# tmp_ids\n\n# fill in the missing values\ntourism_sg.loc[tmp_ids, \"Arrivals\"] = (tourism_sg['Arrivals'][tmp_ids+1].values + tourism_sg['Arrivals'][tmp_ids-1].values)*0.5\n\n# Calculate the moving average\ntourism_sg['MA'] = np.nan\n#len(tourism_sg)\nfor ii in range(1, tourism_sg.shape[0]-1):\n    tourism_sg.loc[ii, 'MA'] = np.mean(tourism_sg['Arrivals'][ii-1:ii+2])\n#tourism_sg.tail()\ntourism_sg.plot(x='Month', y=['Arrivals', 'MA'], kind='line');\n\n\n\nplot of chunk unnamed-chunk-2\n\n\n\nimport pandas as pd\nimport numpy as np\n\ntourism_sg = pd.read_csv(\"tourism_sg.csv\")\ntourism_sg.Month = pd.to_datetime(tourism_sg.Month)\n\n# find index where Arrivals is missing\nmissing_index = tourism_sg.Arrivals.isnull()\ntmp_ids = np.where(missing_index)[0]\n# tmp_ids\n\n# fill in the missing values\ntourism_sg.loc[tmp_ids, \"Arrivals\"] = (tourism_sg['Arrivals'][tmp_ids+1].values + tourism_sg['Arrivals'][tmp_ids-1].values)*0.5\n\n# Calculate the moving average\ntourism_sg['MA'] = np.nan\n#len(tourism_sg)\nfor ii in range(1, tourism_sg.shape[0]-1):\n    tourism_sg.loc[ii, 'MA'] = np.mean(tourism_sg['Arrivals'][ii-1:ii+2])\n#tourism_sg.tail()\ntourism_sg.plot(x='Month', y=['Arrivals', 'MA'], kind='line');\n\n\n\nplot of chunk unnamed-chunk-2",
      "solution_html": "<p>import pandas as pd<br>import numpy as np</p>\n<p>tourism_sg = pd.read_csv(\"tourism_sg.csv\")<br>tourism_sg.Month = pd.to_datetime(tourism_sg.Month)</p>\n<p># find index where Arrivals is missing<br>missing_index = tourism_sg.Arrivals.isnull()<br>tmp_ids = np.where(missing_index)[0]<br># tmp_ids</p>\n<p># fill in the missing values<br>tourism_sg.loc[tmp_ids, \"Arrivals\"] = (tourism_sg['Arrivals'][tmp_ids+1].values + tourism_sg['Arrivals'][tmp_ids-1].values)*0.5</p>\n<p># Calculate the moving average<br>tourism_sg['MA'] = np.nan<br>#len(tourism_sg)<br>for ii in range(1, tourism_sg.shape[0]-1):<br>    tourism_sg.loc[ii, 'MA'] = np.mean(tourism_sg['Arrivals'][ii-1:ii+2])<br>#tourism_sg.tail()<br>tourism_sg.plot(x='Month', y=['Arrivals', 'MA'], kind='line');</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ntourism_sg = pd.read_csv(\"tourism_sg.csv\")\ntourism_sg.Month = pd.to_datetime(tourism_sg.Month)\n\n# find index where Arrivals is missing\nmissing_index = tourism_sg.Arrivals.isnull()\ntmp_ids = np.where(missing_index)[0]\n# tmp_ids\n\n# fill in the missing values\ntourism_sg.loc[tmp_ids, \"Arrivals\"] = (tourism_sg['Arrivals'][tmp_ids+1].values + tourism_sg['Arrivals'][tmp_ids-1].values)*0.5\n\n# Calculate the moving average\ntourism_sg['MA'] = np.nan\n#len(tourism_sg)\nfor ii in range(1, tourism_sg.shape[0]-1):\n    tourism_sg.loc[ii, 'MA'] = np.mean(tourism_sg['Arrivals'][ii-1:ii+2])\n#tourism_sg.tail()\ntourism_sg.plot(x='Month', y=['Arrivals', 'MA'], kind='line');</code></pre>\n<div class=\"figure\" style=\"text-align: center\">\n<img src=\"$IMS-CC-FILEBASE$/assessment_questions/unnamed-chunk-2-1.png?canvas_download=1\" alt=\"plot of chunk unnamed-chunk-2\" width=\"614\" loading=\"lazy\">\n<p class=\"caption\">\nplot of chunk unnamed-chunk-2\n</p>\n</div>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ntourism_sg = pd.read_csv(\"tourism_sg.csv\")\ntourism_sg.Month = pd.to_datetime(tourism_sg.Month)\n\n# find index where Arrivals is missing\nmissing_index = tourism_sg.Arrivals.isnull()\ntmp_ids = np.where(missing_index)[0]\n# tmp_ids\n\n# fill in the missing values\ntourism_sg.loc[tmp_ids, \"Arrivals\"] = (tourism_sg['Arrivals'][tmp_ids+1].values + tourism_sg['Arrivals'][tmp_ids-1].values)*0.5\n\n# Calculate the moving average\ntourism_sg['MA'] = np.nan\n#len(tourism_sg)\nfor ii in range(1, tourism_sg.shape[0]-1):\n    tourism_sg.loc[ii, 'MA'] = np.mean(tourism_sg['Arrivals'][ii-1:ii+2])\n#tourism_sg.tail()\ntourism_sg.plot(x='Month', y=['Arrivals', 'MA'], kind='line');</code></pre>\n<div class=\"figure\" style=\"text-align: center\">\n<img src=\"$IMS-CC-FILEBASE$/assessment_questions/unnamed-chunk-2-1.png?canvas_download=1\" alt=\"plot of chunk unnamed-chunk-2\" width=\"614\" loading=\"lazy\">\n<p class=\"caption\">\nplot of chunk unnamed-chunk-2\n</p>\n</div>",
      "difficulty_level": 1.0,
      "concept_tags": [
        "probability"
      ]
    }
  ]
}