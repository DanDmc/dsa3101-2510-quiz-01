{
  "question_id": null,
  "course": "ST2137",
  "semester": 2510,
  "assessment_type": "midterm",
  "question_no": 28,
  "is_multi": false,
  "question_stem": "This question is to be answered using R.\nThe dataset in taiwan_outlier_removed.csv contains information on housing prices from Taiwan. The dependent variable is price. We had worked with this data in our tutorial; the greatest outlier from there has been removed.\nIn this question, we shall work with price as the dependent variable, and the following two explanatory variables:\n\nldist: The (natural) log of the distance to the nearest MRT station. The original distance is in meters.\nnum_stores: The number of convenience stores within walking distance.\n\nRefer to the attached SAS output, and answer the questions 1–3. Following that, you will have to re-fit the model in R and run the additional analyses.\n\nInterpret the model, when the number of stores is 0. Make sure that your explanation does not involve the logarithm scale.\nThe adjusted R2 for this model is 0.59. Your colleague has fitted the same model, but without the log transform of distance. Are the two adjustedcomparable? Why or why not?\nStudy the SAS plots of residuals versus predictor and assess if there is anything unusual.\nUse R to return prediction intervals for the following two cases:\n\nWhen the number of stores is 5, and the distance to MRT is 2175m.\nWhen the number of stores is 2 and the distance to MRT is 965m.\n\n\nIdentify the most influential point (in absolute value) with regard to the beta coefficient for the number of stores. You can state the IDnumber of this point.\nOne of the columns in the influence matrix corresponds to dffit. What is the difference between this column and the unstandardisedresiduals that we compute?\nRe-create the following plot. What do you observe about the relationship between price and ldist, in the presence of num_stores?Hint: what is the association between ldist and num_stores?",
  "question_stem_html": "<div><p>This question is to be answered using R.</p>\n<p>The dataset in taiwan_outlier_removed.csv contains information on housing prices from Taiwan. The dependent variable is price. We had worked with this data in our tutorial; the greatest outlier from there has been removed.</p>\n<p>In this question, we shall work with price as the dependent variable, and the following two explanatory variables:</p>\n<ul>\n<li>ldist: The (natural) log of the distance to the nearest MRT station. The original distance is in meters.</li>\n<li>num_stores: The number of convenience stores within walking distance.</li>\n</ul>\n<p>Refer to the <a class=\"instructure_file_link instructure_scribd_file inline_disabled\" title=\"Linear Regression-taiwan-ldist-num_stores.pdf\" href=\"$IMS-CC-FILEBASE$/Uploaded%20Media/Linear%20Regression-taiwan-ldist-num_stores.pdf?canvas_=1&canvas_qs_wrap=1\" target=\"_blank\" data-canvas-previewable=\"false\" data-api-endpoint=\"https://canvas.nus.edu.sg/api/v1/courses/72649/files/5629200\" data-api-returntype=\"File\">attached SAS output</a>, and answer the questions 1–3. Following that, you will have to re-fit the model in R and run the additional analyses.</p>\n<ol style=\"list-style-type: decimal;\">\n<li>Interpret the model, when the number of stores is 0. Make sure that your explanation does not involve the logarithm scale.</li>\n<li>The adjusted R2 for this model is 0.59. Your colleague has fitted the same model, but without the log transform of distance. Are the two adjusted<br>comparable? Why or why not?</li>\n<li>Study the SAS plots of residuals versus predictor and assess if there is anything unusual.</li>\n<li>Use R to return prediction intervals for the following two cases:\n<ol style=\"list-style-type: decimal;\">\n<li>When the number of stores is 5, and the distance to MRT is 2175m.</li>\n<li>When the number of stores is 2 and the distance to MRT is 965m.</li>\n</ol>\n</li>\n<li>Identify the most influential point (in absolute value) with regard to the beta coefficient for the number of stores. You can state the ID<br>number of this point.</li>\n<li>One of the columns in the influence matrix corresponds to dffit. What is the difference between this column and the unstandardised<br>residuals that we compute?</li>\n<li>Re-create the following plot. What do you observe about the relationship between price and ldist, in the presence of num_stores?<br><em>Hint: what is the association between ldist and num_stores?</em></li>\n</ol></div>",
  "version": 1,
  "update_timestamp": "2025-09-17T22:44:01+08:00",
  "question_media": [],
  "items": [
    {
      "part_number": "a",
      "type": "essay",
      "subtype": "open-ended",
      "part_stem": "This question is to be answered using R.\nThe dataset in taiwan_outlier_removed.csv contains information on housing prices from Taiwan. The dependent variable is price. We had worked with this data in our tutorial; the greatest outlier from there has been removed.\nIn this question, we shall work with price as the dependent variable, and the following two explanatory variables:\n\nldist: The (natural) log of the distance to the nearest MRT station. The original distance is in meters.\nnum_stores: The number of convenience stores within walking distance.\n\nRefer to the attached SAS output, and answer the questions 1–3. Following that, you will have to re-fit the model in R and run the additional analyses.\n\nInterpret the model, when the number of stores is 0. Make sure that your explanation does not involve the logarithm scale.\nThe adjusted R2 for this model is 0.59. Your colleague has fitted the same model, but without the log transform of distance. Are the two adjustedcomparable? Why or why not?\nStudy the SAS plots of residuals versus predictor and assess if there is anything unusual.\nUse R to return prediction intervals for the following two cases:\n\nWhen the number of stores is 5, and the distance to MRT is 2175m.\nWhen the number of stores is 2 and the distance to MRT is 965m.\n\n\nIdentify the most influential point (in absolute value) with regard to the beta coefficient for the number of stores. You can state the IDnumber of this point.\nOne of the columns in the influence matrix corresponds to dffit. What is the difference between this column and the unstandardisedresiduals that we compute?\nRe-create the following plot. What do you observe about the relationship between price and ldist, in the presence of num_stores?Hint: what is the association between ldist and num_stores?",
      "part_stem_html": "<div><p>This question is to be answered using R.</p>\n<p>The dataset in taiwan_outlier_removed.csv contains information on housing prices from Taiwan. The dependent variable is price. We had worked with this data in our tutorial; the greatest outlier from there has been removed.</p>\n<p>In this question, we shall work with price as the dependent variable, and the following two explanatory variables:</p>\n<ul>\n<li>ldist: The (natural) log of the distance to the nearest MRT station. The original distance is in meters.</li>\n<li>num_stores: The number of convenience stores within walking distance.</li>\n</ul>\n<p>Refer to the <a class=\"instructure_file_link instructure_scribd_file inline_disabled\" title=\"Linear Regression-taiwan-ldist-num_stores.pdf\" href=\"$IMS-CC-FILEBASE$/Uploaded%20Media/Linear%20Regression-taiwan-ldist-num_stores.pdf?canvas_=1&canvas_qs_wrap=1\" target=\"_blank\" data-canvas-previewable=\"false\" data-api-endpoint=\"https://canvas.nus.edu.sg/api/v1/courses/72649/files/5629200\" data-api-returntype=\"File\">attached SAS output</a>, and answer the questions 1–3. Following that, you will have to re-fit the model in R and run the additional analyses.</p>\n<ol style=\"list-style-type: decimal;\">\n<li>Interpret the model, when the number of stores is 0. Make sure that your explanation does not involve the logarithm scale.</li>\n<li>The adjusted R2 for this model is 0.59. Your colleague has fitted the same model, but without the log transform of distance. Are the two adjusted<br>comparable? Why or why not?</li>\n<li>Study the SAS plots of residuals versus predictor and assess if there is anything unusual.</li>\n<li>Use R to return prediction intervals for the following two cases:\n<ol style=\"list-style-type: decimal;\">\n<li>When the number of stores is 5, and the distance to MRT is 2175m.</li>\n<li>When the number of stores is 2 and the distance to MRT is 965m.</li>\n</ol>\n</li>\n<li>Identify the most influential point (in absolute value) with regard to the beta coefficient for the number of stores. You can state the ID<br>number of this point.</li>\n<li>One of the columns in the influence matrix corresponds to dffit. What is the difference between this column and the unstandardised<br>residuals that we compute?</li>\n<li>Re-create the following plot. What do you observe about the relationship between price and ldist, in the presence of num_stores?<br><em>Hint: what is the association between ldist and num_stores?</em></li>\n</ol></div>",
      "choices": [
        {
          "choice_id": "Your answer",
          "text": "text_str",
          "text_html": "<p>text_str</p>",
          "is_correct": null,
          "explanation": null
        }
      ],
      "items_media": [],
      "scoring": {
        "points": 1.0
      },
      "feedback": {},
      "shuffle_choices": false,
      "solution": "taiwan2 lm1 \n1. When `num_stores` is 0, the model simplifies to ($X_1$ is distance to MRT)\n$$\\hat{Y} = 81.9 - 7.40 \\log X_1$$\n   Thus if $\\log X_1$ increases by 1, the price drops by 7.40 units.   Equivalently, if distance to MRT increases by 2.72 times, the price drops by 7.40 units.   2. The two models are comparable, because $R^2$ only involves the response variable,    which has not been transformed. The adjusted $R^2$ is a measure of how much of the    variation about $\\bar{Y}$ has been explained.\n3. The plots do not depict anything unusual in terms or trends or funnel shape. However,   it does appear that the residual distribution is skewed. There does seem to be quite    a few very large positive residuals (but not equivalently large negative ones). We can   see this in the histogram of residuals on page 3, the first row of plots on page 3,   and the scatter plot on page 4.\n4. We can use the `predict` function to get prediction intervals.\nnew_df predict(lm1, new_df, interval=\"prediction\")\n5. We have to use the `influence.measures` function. The point has ID 312.\ninfl which.max(infl$infmat[, \"dfb.nm_s\"])\n6. The `dffit` column in the influence matrix measures the difference in the fitted    values when the $i$-th observation is included and excluded. The unstandardised    residuals are the difference between the observed and fitted values.\n7. We can recreate the plot using the following code.\nlibrary(lattice)xyplot(price ~ ldist | num_stores, as.table=TRUE, data=taiwan2, layout=c(4,3))\nThe number of stores is related to the distance to MRT. When there are more storesnearby, the distance to MRT tends to be lower. It is worth considering whether we need both variables in the model. The correlation between the two is about -0.69.\ncor(taiwan2$num_stores, taiwan2$ldist)",
      "solution_html": "<pre>taiwan2 <- read.csv(\"taiwan_outlier_removed.csv\")<br>lm1 <- lm(price ~ ldist + num_stores, data = taiwan2)<br><br></pre>\n<p>1. When `num_stores` is 0, the model simplifies to ($X_1$ is distance to MRT)</p>\n<p>$$<br>\\hat{Y} = 81.9 - 7.40 \\log X_1<br>$$</p>\n<p>   Thus if $\\log X_1$ increases by 1, the price drops by 7.40 units.<br>   Equivalently, if distance to MRT increases by 2.72 times, the price drops by 7.40 units.<br>   <br>2. The two models are comparable, because $R^2$ only involves the response variable, <br>   which has not been transformed. The adjusted $R^2$ is a measure of how much of the <br>   variation about $\\bar{Y}$ has been explained.</p>\n<p>3. The plots do not depict anything unusual in terms or trends or funnel shape. However,<br>   it does appear that the residual distribution is skewed. There does seem to be quite <br>   a few very large positive residuals (but not equivalently large negative ones). We can<br>   see this in the histogram of residuals on page 3, the first row of plots on page 3,<br>   and the scatter plot on page 4.</p>\n<p>4. We can use the `predict` function to get prediction intervals.</p>\n<pre><br>new_df <- data.frame(ldist = log(c(2175, 965)), num_stores = c(5,2))<br>predict(lm1, new_df, interval=\"prediction\")<br><br></pre>\n<p>5. We have to use the `influence.measures` function. The point has ID 312.</p>\n<pre><br>infl <- influence.measures(lm1)<br>which.max(infl$infmat[, \"dfb.nm_s\"])<br><br></pre>\n<p>6. The `dffit` column in the influence matrix measures the difference in the fitted <br>   values when the $i$-th observation is included and excluded. The unstandardised <br>   residuals are the difference between the observed and fitted values.</p>\n<p>7. We can recreate the plot using the following code.</p>\n<pre><br>library(lattice)<br>xyplot(price ~ ldist | num_stores, as.table=TRUE, data=taiwan2, layout=c(4,3))<br><br></pre>\n<p>The number of stores is related to the distance to MRT. When there are more stores<br>nearby, the distance to MRT tends to be lower. It is worth considering whether we need both <br>variables in the model. The correlation between the two is about -0.69.</p>\n<pre><br>cor(taiwan2$num_stores, taiwan2$ldist)<br><br></pre>\n<p> </p>",
      "difficulty_level": 1.0,
      "concept_tags": [
        "probability"
      ]
    }
  ]
}